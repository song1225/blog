<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,viewport-fit=cover" />
<title>博客详情</title>
<link rel="stylesheet" type="text/css"
	href="../static/css/semantic.min.css"
	th:href="@{/css/semantic.min.css}" />
<link rel="stylesheet" type="text/css" href="../static/css/typo.css"
	th:href="@{/css/typo.css}" />
<link rel="stylesheet" type="text/css" href="../static/css/animate.css"
	th:href="@{/css/animate.css}" />
<link rel="stylesheet" type="text/css"
	href="../static/plug/prism/prism.css"
	th:href="@{/plug/prism/prism.css}" />
<link rel="stylesheet" type="text/css"
	href="../static/plug/tocbot/tocbot.css"
	th:href="@{/plug/tocbot/tocbot.css}" />
<link rel="stylesheet" type="text/css" href="../static/css/me.css"
	th:href="@{/css/me.css}" />
</head>
<body>
	<!-- 顶部导航栏 -->
	<nav
		class="ui teal inverted attached segment m-padded-tb-mini m-shadow-small"
		style="border:none;">
		<div class="ui container">
			<div class="ui teal inverted secondary stackable menu">
				<h2 class="ui orange header item">猿圈</h2>
				<a href="#" class="active m-item item m-mobile-hide" th:href="@{/}"><i
					class="home icon"></i>首页</a> <a href="#" th:href="@{/type/getTypes/-1}"
					class="m-item item m-mobile-hide"><i class="idea icon"></i>分类</a> <a
					href="#" class="m-item item m-mobile-hide"
					th:href="@{/tag/getTags/-1}"><i class="tags icon"></i>标签</a> <a
					href="#" class="m-item item m-mobile-hide"
					th:href="@{/archive/getArchive}"><i class="clone icon"></i>归档</a> <a
					href="#" th:href="@{/about/aboutMe}"
					class="m-item item m-mobile-hide"><i class="info icon"></i>关于我们</a>
				<div class="right m-item item m-mobile-hide">
					<div id="goLogout1" class="ui dropdown item ">
						<i class="user icon"></i>
						<div class="text">会员中心</div>
						<i class="dropdown icon"></i>
						<div class="menu">
							<a href="#" th:href="@{/user/toLoginPage}" class="item"><i
								class="sign in icon"></i>登 录</a> <a href="#"
								th:href="@{/user/toRegisterPage}" class="item"><i
								class="add user icon"></i>注 册</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<a id="showHideBtn" href="#"
			class="ui teal button icon m-top-right m-mobile-show"> <i
			class="sidebar icon"></i>
		</a>
	</nav>



	<!-- 中间内容部分 -->
	<div id="waypoint" class="m-padded-tb-large m-width animated pulse">
		<div class="ui container">
			<!-- 头部 -->
			<div class="ui top attached segment">
				<div class="ui horizontal link list">
					<div class="item">
						<img alt="" src="https://picsum.photos/30/30"
							class="ui avatar image" th:src="${blog.user.avatar}"/>
						<div class="content">
							<a href="#" class="item header" th:text="${blog.user.nickname}">刘松</a>
						</div>
					</div>
					<div class="item">
						<i class="calendar alternate icon"></i> <span
							style="vertical-align:middle"
							th:text="${#dates.format(blog.updateTime,'yyyy-MM-dd HH:mm:ss')}">2019-11-20
							16:46:34</span>
					</div>
					<div class="item">
						<i class="eye icon"></i> <span style="vertical-align:middle"
							th:text="${blog.views}">231</span>
					</div>
					<div class="item" id="addThumbsUp" th:if="${currentThumbsUp}==null">
						<i class="thumbs outline up icon" title="点赞"></i> <span
							style="vertical-align:middle" th:text="${blog.thumbsUpCount}">231</span>
					</div>
					<div class="item" id="deleteThumbsUp"
						th:if="${currentThumbsUp}!=null">
						<i class="thumbs up icon" title="取消点赞"></i> <span id="deleteId"
							style="vertical-align:middle" th:text="${blog.thumbsUpCount}"
							th:attr="thumbsUpId=${currentThumbsUp.id}">1</span>
					</div>
				</div>
			</div>

			<!-- 图片区域 -->
			<div class="ui attached segment">
				<img alt="" src="../static/images/1.jpg"
					class="ui fluid rounded image" th:src="@{${blog.firstPicture}}" />
			</div>

			<!-- 内容区域 -->
			<div class="ui attached segment">
				<!-- 标签 -->
				<div class="ui orange right ribbon label" th:text="${blog.flag}">原创</div>
				<!--  标题 -->
				<h2 class="ui center aligned header" th:text="${blog.title}">大器晚不成，小气早已生</h2>


				<div id="content"
					class="typo typo-selection js-toc-content m-padded-lr m-text-spaced  m-text-thin"
					th:utext="${blog.content}">

					<h3 id="section1">一、遭遇！悲惨宿命中的背影少年</h3>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						2019年11月18日。看到一个网名“大器晚不成”，令我忍俊不禁。大器晚成最早说的是贵重的器物需要长期的雕琢才能制成，经过演变，现指能担当重任的人物要经过长期的锻炼，所以成就较晚，所谓不鸣则已一鸣惊人说的也是这个道理。如果一个人堪称大器，却至死不成，难免令人怀疑他是不是大器;如果一个自认为能大器晚成的人蛰伏多年沉默无语，众人对他寄予厚望，可是到头来他一翻身就掉河里了，他一发声就哑巴了，那还不如一辈子不动也不语，让人把他像谜一样猜测呢。所以这位把自己看成是大器晚不成的人，其实还不如不说出来呢，说出来难免让人觉得他是怨天怨地，一肚子小心眼，小气早已生。当然人家是在调侃，我说的是一种现象。</p>

					<h3 id="section2">二、参见！麻雀少女的初回登场</h3>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						大器指的是一个人的禀赋才华胸怀气度，有点与生俱来，有点人生历练;小气是一个人心胸不宽气魄不大的体现，也有点与生俱来，更有点斤斤计较。大气是才华，小气是人性，才华的发挥需要机遇努力发愤图强，小气的体现无需任何指点随心所欲。
					</p>

					<h3 id="section3">三、早川！神秘百幕大的汹涌旋涡</h3>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						能拥有大器的人实在不多，能成大器的人少之又少，大器晚成的人凤毛鳞角，大器晚不成的人十有八九。别以为自己是个大器之人却怀才不遇，怀才是主观的认定，不遇是客观的存在，不要因为自己怀才就不可一世，不要因为不遇就垂头丧气。
					</p>

					<h3 id="section4">四、宣战！麻雀联盟的华丽出击</h3>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						真正能称得上怀才不遇的人多少年才出一个，如果被大家公认其怀才不遇，那太幸运了，说明已经幸遇，说明大器已成，象诗仙李白，官场失意，诗坛称仙，比皇帝都名垂千古世代流芳，只要把才华留世，遇与不遇何足挂齿，成与不成何必在意。
					</p>

					<h3 id="section5">五、旋转！追逐游戏的命运齿轮</h3>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						民国女作家张爱玲说过成名还要趁早，如果走过了童年，没成神童，走过了青年，没成才俊，走过了老年，没成精英，指望到老年一举成名大器晚成，估计十有八九就变成了大器晚不成，只好带着自己的大器陪同烟气化为灰烬吧!
					</p>

					<h3 id="section6">六、疑惑！交织变幻的土风舞曲</h3>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						诺奖获得者屠女士，获奖之时已超八十高龄，她可谓大器晚成，其实不然，她早已在自己研发的领域埋头苦干了半个多世纪，只是大名晚出而已。所以所有身存大器的有才之人有识之士，不到人生谢幕的那一天，千万别哀叹大器晚不成。如果真是大器过人，即使死去，也有大器晚成的那一天。
					</p>
				</div>
				<!-- 标签 -->
				<div class="m-padded-lr">
					<div class="ui orange basic left pointing label"
						th:each="tag: ${blog.tags}" th:text="${tag.name}">方法论</div>
				</div>

				<!-- 赞赏 -->
				<div class="ui center aligned basic segment"
					th:if="${blog.appreciation}">
					<div id="payButton" class="ui red basic circular button">赞 赏</div>
				</div>
				<div class="ui payQR flowing popup transition hidden">
					<div class="ui orange basic label">
						<div class="ui images">
							<div class="image">
								<img alt="" src="../static/images/wechat.png"
									th:src="@{/images/wechat.png}"
									class="ui rounded bordered image" style="width:120px" />
								<div>支付宝</div>
							</div>
							<div class="image">
								<img alt="" src="../static/images/wechat.png"
									th:src="@{/images/wechat.png}"
									class="ui rounded bordered image" style="width:120px" />
								<div>微信</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- 博客信息 -->
			<div class="ui olive attached message" th:if="${blog.shareStatement}">
				<div class="ui middle aligned grid">
					<div class="eleven wide column">
						<ul class="list">
							<li>作者：<span th:text="${blog.user.nickname}">刘松</span></li>
							<li>发表时间：<span th:text="${#dates.format(blog.updateTime,'yyyy-MM-dd HH:mm:ss')}">2019-11-20 18:45:20</span></li>
							<li>版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）</li>
							<li>公众号转载：请在文末添加作者公众号二维码</li>
						</ul>
					</div>
					<div class="five wide column">
						<img alt="" src="../static/images/wechat.png"
							th:src="@{/images/wechat.png}"
							class="ui right floated rounded image" style="width:110px" />
					</div>
				</div>
			</div>

			<!-- 留言区域 -->
			<div class="ui bottom attached segment" id="comment-container"
				th:if="${blog.commentabled}">
				<div id="comment" class="ui segment">
					<div th:fragment="commentList">
						<div class="ui comments" style="max-width:100%">
							<h3 class="ui dividing header">评论</h3>
							<div class="comment" th:each="comment:${comments}">
								<a class="avatar"> <img src="../static/images/1.jpg"
									th:src="@{${comment.avatar}}" />
								</a>
								<div class="content">
									<a class="author"> <span th:text="${comment.nickname}">Matt</span>
										<div class="ui mini basic teal left pointing label"
											th:if="${comment.adminComment}" style="padding:0.5em">博主</div>
									</a>
									<div class="metadata">
										<span class="date"
											th:text="${#dates.format(comment.createTime,'yyyy-MM-dd HH:mm:ss')}">Today
											at 5:42PM</span>
									</div>
									<div class="text" th:text="${comment.content}">How
										artistic!</div>
									<div class="actions">
										<a class="reply" data-commentid="1"
											data-commentnickname="Matt"
											th:attr="data-commentid=${comment.id},data-commentnickname=${comment.nickname}"
											onclick="reply(this)">回复</a>
									</div>
								</div>
								<div class="comments"
									th:if="${#arrays.length(comment.replyComments)}>0">
									<div class="comment" th:each="reply : ${comment.replyComments}">
										<a class="avatar"> <img src="static/images/1.jpg"
											th:src="@{${reply.avatar}}" />
										</a>
										<div class="content">
											<a class="author"> <span th:text="${reply.nickname}">luccy</span>
												<div class="ui mini basic teal left pointing label"
													th:if="${reply.adminComment}" style="padding:0.5em">博主</div>
												<span th:text="|@${reply.parentComment.nickname}|"
												style="color:#00B5AD">luccy</span>
											</a>
											<div class="metadata">
												<span class="date"
													th:text="${#dates.format(reply.createTime,'yyyy-MM-dd HH:mm:ss')}">Just
													now</span>
											</div>
											<div class="text" th:text="${reply.content}">Elliot you
												are always so right :)</div>
											<div class="actions">
												<a class="reply" data-commentid="1"
													data-commentnickname="Matt"
													th:attr="data-commentid=${reply.id},data-commentnickname=${reply.nickname}"
													onclick="reply(this)">回复</a>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div id="comment-form" class="ui form">
					<input type="hidden" name="blog.id" th:value="${blog.id}" /> <input
						type="hidden" name="parentComment.id" value="-1" />
					<div class="field">
						<textarea placeholder="请输入评论信息....." name="content"></textarea>
					</div>
					<div class="fields">
						<div class="field">
							<div class="ui input left icon">
								<i class="user icon"></i> <input tyle="text" name="nickname"
									placeholder="姓名"
									th:value="${session.user} ? ${session.user.nickname}" />
							</div>
						</div>
						<div class="field">
							<div class="ui input left icon">
								<i class="mail icon"></i> <input tyle="text" name="email"
									placeholder="邮箱"
									th:value="${session.user} ? ${session.user.email}" />
							</div>
						</div>
						<div class="field">
							<button class="ui teal button" type="button" id="commentBtn">
								<i class="paper plane icon"></i>发布
							</button>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>

	<!-- **************************************右下角图标按钮********************************** -->
	<div id="toolBar" class="m-fixed m-right-bottom m-padded-mini"
		style="display: none;">
		<div class="ui vertical icon buttons">
			<button id="menuBtn" type="button" class="ui  button">
				<i class="tasks icon"></i>
			</button>
			<a href="#comment" class="ui   button" title="留言"><i
				class="edit icon"></i></a>
			<button id="wenxinIcon" type="button" class="ui  button">
				<i class="weixin icon"></i>
			</button>
			<div id="toTopBtn" class="ui  button" title="顶部">
				<i class="ui chevron up icon"></i>
			</div>
		</div>
	</div>

	<div class="ui contentMenu flowing popup transition hidden"
		style="width:50px">
		<ol class="js-toc"></ol>
	</div>

	<div id="qrcode" class="ui wechatIcon flowing popup transition hidden"
		style="width:110px"></div>





	<!-- 底部footer -->
	<footer class="ui teal inverted attached segment m-padded-tb-massive"
		style="border:none;">
		<div class="ui center aligned container">
			<div class="ui internally celled stackable grid">
				<div class="row">
					<div class="three wide column">
						<div class="ui inverted link list">
							<div class="item">
								<img src="../static/images/wechat.png" class="ui rounded image"
									style="width:100px" th:src="@{/images/wechat.png}" />
							</div>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">最新博客</h4>
						<div class="ui inverted link list">
							<a href="#" class="item">用户故事（User Story）</a> <a href="#"
								class="item">香港暴徒的出路在哪里？</a> <a href="#" class="item">华为最新折叠手机</a>
						</div>
					</div>
					<div class="three wide column">
						<h4 class="ui inverted header">联系我们</h4>
						<div class="ui inverted link list">
							<a href="#" class="item">Email:18810102841@163.com</a> <a
								href="#" class="item">电话:010-8207107</a> <a href="#"
								class="item">QQ:903442712</a>
						</div>
					</div>
					<div class="seven wide column">
						<h4 class="ui inverted header">LiuSong</h4>
						<p class="m-text-opacity-mini">这是我的个人博客，会分享关于编程、写作、思考相关的任何内容，希望可以给
							所有来到这里的人帮助...</p>
					</div>
				</div>
			</div>
			<div class="ui inverted  divider"></div>
			<p class="m-text-spaced m-text-opacity-mini">Copyright
				©2019-2020LiuSong Designed By LiuSong</p>
		</div>
	</footer>
	<script th:inline="javascript">
        var blogId = [[${blog.id}]];
        var blogUrl = '/blog/'+ [[${blog.id}]] ;
    </script>
	<script type="text/javascript" src="../static/js/jquery.min.js"
		th:src="@{/js/jquery.min.js}"></script>
	<script type="text/javascript" src="../static/js/semantic.min.js"
		th:src="@{/js/semantic.min.js}"></script>
	<script type="text/javascript" src="../static/plug/prism/prism.js"
		th:src="@{/plug/prism/prism.js}"></script>
	<script type="text/javascript"
		src="../static/plug/tocbot/tocbot.min.js"
		th:src="@{/plug/tocbot/tocbot.min.js}"></script>
	<script type="text/javascript"
		src="../static/plug/qrcode/qrcode.min.js"
		th:src="@{/plug/qrcode/qrcode.min.js}"></script>
	<script type="text/javascript"
		src="../static/js/jquery.scrollTo.min.js"
		th:src="@{/js/jquery.scrollTo.min.js}"></script>
	<script type="text/javascript" src="../static/js/jquery.waypoints.js"
		th:src="@{/js/jquery.waypoints.js}"></script>
	<script th:inline="javascript" type="text/javascript">
		tocbot.init({
			tocSelector : '.js-toc',
			contentSelector : '.js-toc-content',
			headingSelector : 'h1, h2, h3',
			hasInnerContainers : true,
		});
		$('#showHideBtn').click(function() {
			$('.m-item').toggleClass('m-mobile-hide');
		});
	
		$('#payButton').popup({
			popup : $('.payQR.popup'),
			on : 'click',
			position : 'bottom center'
		});
	
		/* 显示内容目录按钮 */
		$('#menuBtn').popup({
			popup : $('.contentMenu.popup'),
			position : 'left center'
		});
	
		$('#wenxinIcon').popup({
			popup : $('.wechatIcon.popup'),
			position : 'left center'
		});
	
		var qrcode = new QRCode("qrcode", {
			text : "http://jindo.dev.naver.com/collie",
			width : 80,
			height : 80,
			colorDark : "#000000",
			colorLight : "#ffffff",
			correctLevel : QRCode.CorrectLevel.H
		});
	
		$('#toTopBtn').click(function() {
			$(window).scrollTo(0, 500);
		});
		var waypoint = new Waypoint({
			element : document.getElementById('waypoint'),
			handler : function(direction) {
				if (direction == 'down') {
					$('#toolBar').show(100);
				} else {
					$('#toolBar').hide(500);
				}
			}
		})
	
		$('.ui.form').form({
			content : {
				identifier : 'content',
				rules : [
					{
						type : 'empty',
						prompt : '请输入回复内容'
					}
				]
			},
			username : {
				identifier : 'username',
				rules : [
					{
						type : 'empty',
						prompt : '请输入用户名'
					}
				]
			},
			email : {
				identifier : 'email',
				rules : [
					{
						type : 'email',
						prompt : '请输入邮箱'
					}
				]
			}
		});
	
		$(function() {
			$('#comment').load( /*[[@{/comment/getComments/{id}(id=${blog.id})}]]*/ );
		});
	
		//点击发布按钮，提交信息
		$('#commentBtn').click(function() {
			var b = $('.ui.form').form('validate form');
			if (b) {
				$('#comment').load( /*[[@{/comment/addComment}]]*/ '', {
					"parentComment.id" : $("[name='parentComment.id']").val(),
					"blog.id" : $("[name='blog.id']").val(),
					"nickname" : $("[name='nickname']").val(),
					"email" : $("[name='email']").val(),
					"content" : $("[name='content']").val()
				}, function(response, status, xhr) {
					cleanContent();
				});
			} else {
				console.log("失败");
			}
	
		});
	
		//发布成功清除输入框内容
		function cleanContent() {
			$("[name='content']").val('');
			$("[name='parentComment.id']").val(-1);
			$("[name='nickname']").val('');
			$("[name='email']").val('');
		}
	
		//点击回复按钮
		function reply(obj) {
			var commentId = $(obj).data('commentid');
			var commentNickname = $(obj).data('commentnickname');
			$("[name='content']").attr("placeholder", "@" + commentNickname).focus();
			$("[name='parentComment.id']").val(commentId);
			$(window).scrollTo($('#comment-form'), 800);
		}
		
		//点赞
		$("#addThumbsUp").click(function(){
			$.ajax({
				url:"/thumbsUp/addThumbsUp/"+blogId,
				type:"GET",
				contentType: "application/json;charset=UTF-8",
				success:function(res){
					if(res.code==100){
						window.location=blogUrl;
					}
				}
			});
		});
		
		//取消点赞
		$("#deleteThumbsUp").click(function(){
			var thumbsUpId=$("#deleteId").attr('thumbsUpId');
			$.ajax({
				url:"/thumbsUp/deleteThumbsUp",
				type:"GET",
				data:{
					"thumbsUpId":thumbsUpId,
					"blogId":blogId
				},
				success:function(res){
					if(res.code==100){
						window.location=blogUrl;
					}
				}
			}) 
		});
		

		$('#goLogout1')
			.dropdown({
				on : 'hover'
			});
	</script>
</body>
</html>